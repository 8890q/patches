From 1b0f2645aac11c051d0b4fbba7483f63c6283517 Mon Sep 17 00:00:00 2001
From: ivanmeler <i_ivan@windowslive.com>
Date: Wed, 9 Mar 2022 18:59:34 +0000
Subject: [PATCH] Revert "config: Delete perf permission"

This reverts commit 3bf5b914cb87e5dda0d619befada1c108930d2a1.
---
 config/lineage_sdk_common.mk                  |  1 +
 .../permissions/org.lineageos.performance.xml | 23 +++++++++++++++++++
 2 files changed, 24 insertions(+)
 create mode 100644 config/permissions/org.lineageos.performance.xml

diff --git a/config/lineage_sdk_common.mk b/config/lineage_sdk_common.mk
index 2fce8106..c53dc3d1 100644
--- a/config/lineage_sdk_common.mk
+++ b/config/lineage_sdk_common.mk
@@ -3,6 +3,7 @@ PRODUCT_COPY_FILES += \
     vendor/lineage/config/permissions/org.lineageos.globalactions.xml:$(TARGET_COPY_OUT_PRODUCT)/etc/permissions/org.lineageos.globalactions.xml \
     vendor/lineage/config/permissions/org.lineageos.hardware.xml:$(TARGET_COPY_OUT_PRODUCT)/etc/permissions/org.lineageos.hardware.xml \
     vendor/lineage/config/permissions/org.lineageos.livedisplay.xml:$(TARGET_COPY_OUT_PRODUCT)/etc/permissions/org.lineageos.livedisplay.xml \
+    vendor/lineage/config/permissions/org.lineageos.performance.xml:$(TARGET_COPY_OUT_PRODUCT)/etc/permissions/org.lineageos.performance.xml \
     vendor/lineage/config/permissions/org.lineageos.profiles.xml:$(TARGET_COPY_OUT_PRODUCT)/etc/permissions/org.lineageos.profiles.xml \
     vendor/lineage/config/permissions/org.lineageos.settings.xml:$(TARGET_COPY_OUT_PRODUCT)/etc/permissions/org.lineageos.settings.xml \
     vendor/lineage/config/permissions/org.lineageos.trust.xml:$(TARGET_COPY_OUT_PRODUCT)/etc/permissions/org.lineageos.trust.xml
diff --git a/config/permissions/org.lineageos.performance.xml b/config/permissions/org.lineageos.performance.xml
new file mode 100644
index 00000000..9468b6d3
--- /dev/null
+++ b/config/permissions/org.lineageos.performance.xml
@@ -0,0 +1,23 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!-- Copyright (C) 2016 The CyanogenMod Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+
+<permissions>
+    <!-- The feature listed here coincides with the PerformanceManagerService declared as
+        part of the external lineage service init in SystemServer. If this xml isn't present
+        on the device, the service will not be published as a binder service!
+    -->
+    <feature name="org.lineageos.performance" />
+</permissions>
-- 
2.25.1

